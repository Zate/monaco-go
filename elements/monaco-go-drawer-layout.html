<base href="../">

<!-- app-drawer stuff -->
<link rel="import" href="bower_components/font-roboto/roboto.html">
<link rel="import" href="bower_components/iron-icons/iron-icons.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">

<link rel="import" href="bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="bower_components/app-layout/demo/sample-content.html">

<link rel="import" href="bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html">

<link rel="import" href="bower_components/iron-list/iron-list.html">

<!--monaco-go polymer element-->
<script src="elements/monaco-go-models.js"></script>
<link rel="import" href="elements/monaco-go-common-styles.html">
<link rel="import" href="elements/monaco-go-langserver-log.html">
<link rel="import" href="elements/monaco-go-repo-files.html">
<link rel="import" href="elements/monaco-go-repos.html">
<link rel="import" href="elements/monaco-go-nav.html">

<dom-module id="monaco-go-drawer-layout">
	<template>
		<style is="custom-style" include="iron-flex iron-flex-alignment iron-positioning iron-flex-reverse monaco-go-common-styles">
			:host {
				@apply --layout-vertical;
				@apply --layout-flex;
			}

			app-drawer {
				--app-drawer-width: 800px;
			}

			.drawer-content {
				height: 100%;
				overflow: auto;
				@apply --layout-vertical;
			}

			.editor-container {
				@apply --layout-vertical;
				@apply --layout-flex;
				margin: 4px;
			}

			::slotted(#container) {
				@apply --layout-flex;
				margin: 4px;
				border: 1px solid;
				border-color: var(--divider-color);
			}
    	</style>
		<app-drawer-layout fullbleed>

			<app-header-layout fullbleed>
				<app-header>
					<app-toolbar>
						<paper-icon-button icon="menu" on-tap="_onToggleDrawer"></paper-icon-button>
						<div main-title>
							<code>monaco-go</code>
						</div>
						<paper-icon-button icon="icons:chevron-left" on-tap="_onToggleDrawerEnd"></paper-icon-button>
					</app-toolbar>
				</app-header>

				<div class="editor-container">
					<slot id="monaco-editor-container" name="editor-slot"></slot>
					<monaco-go-nav selection-project="{{selectionProject}}" selection-file="{{selectionFile}}"></monaco-go-nav>
				</div>
			</app-header-layout>

			<!--for the langserver logs-->
			<app-drawer id="drawer" swipe-open>
				<div class="drawer-content">
					<monaco-go-langserver-log></monaco-go-langserver-log>
				</div>
			</app-drawer>

			<!--for selecting repos-->
			<app-drawer id="drawerEnd" align="end" swipe-open open opened>
				<div class="drawer-content">
					<monaco-go-repos selection-project="{{selectionProject}}" selection-file="{{selectionFile}}"></monaco-go-repos>
					<monaco-go-repo-files selection-project="{{selectionProject}}" selection-file="{{selectionFile}}"></monaco-go-repo-files>
				</div>
			</app-drawer>

		</app-drawer-layout>
	</template>

	<script>
		GlobalMonacoOutputChannelStore = [];
	</script>
	<script src="demo/require-paths.js"></script>

	<script src="node_modules/monaco-editor-core/dev/vs/loader.js"></script>
	<script src="node_modules/monaco-editor-core/dev/vs/editor/editor.main.nls.js"></script>
	<script src="node_modules/monaco-editor-core/dev/vs/editor/editor.main.js"></script>

	<script src="demo/fillers.js"></script>
	<script src="demo/monaco-go.js"></script>

	<script src="elements/monaco-go-drawer-layout.js"></script>
</dom-module>
