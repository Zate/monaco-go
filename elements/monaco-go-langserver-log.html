<base href="../">

<link rel="import" href="bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="bower_components/paper-item/paper-item.html">
<link rel="import" href="bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="bower_components/paper-item/paper-item-body.html">
<link rel="import" href="bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="bower_components/paper-progress/paper-progress.html">

<dom-module id="monaco-go-langserver-log">
	<template>
		<style is="custom-style" include="iron-flex iron-flex-alignment iron-positioning iron-flex-reverse monaco-go-common-styles">
			:host {
				@apply --layout-vertical;
				@apply --layout-flex;
				/*padding: 4px;*/
				border: 1px solid;
				border-color: var(--divider-color);
				@apply --paper-font-common-base;
			}

			.connection {
				@apply --layout-vertical;
				@apply --paper-font-body2;
				margin: 8px;
			}

			.list.container {
				@apply --layout-vertical;
				@apply --layout-flex-5;
				margin: 8px;
				border: 1px solid;
				border-color: var(--primary-color);
			}
			.list.item.selected.section {
				margin: 8px;
				border: 1px solid;
				border-color: var(--primary-color);
				@apply --layout-flex;
			}

			paper-listbox {
				@apply --layout-flex;
				overflow: auto;
			}

			paper-item {
				--paper-item-selected: {
					border-color: var(--primary-color);
				};
				--paper-item-focused: {
					background: var(--paper-amber-500);
					font-weight: bold;
				};
				--paper-item-focused-before: {
					opacity: 0;
				};
			}

			.list.item {
				@apply --paper-font-caption;
			}
			.log.date {
				@apply --paper-font-caption;
			}
			.log.msg {
				@apply --paper-font-common-code;
			}
		</style>
			<app-header fixed condenses effects="waterfall">
				<app-toolbar>
				<div main-title>Langserver Log</div>
				</app-toolbar>
			</app-header>
			<div class="section connection">
				<div>
					<span class="label">Connection State:</span>
					<span class="value">{{langserverConn.state}}</span>
				</div>
				<div>
					<span class="label">Events:</span>
					<span class="value">{{langserverLogCollection.length}}</span>
				</div>
			</div>
			<div class="list container">
				<paper-listbox
					attr-for-selected="value"
					selected="{{selectionLog}}">
					<dom-repeat items="{{langserverLogCollection}}" as="log">
						<template>
							<paper-item value="{{log}}">
								<paper-item-body two-line>
									<div class="log date">{{_formatDate(log.date)}}</div>
									<div secondary class="log msg">{{log.msg}}</div>
								</paper-item-body>
							</paper-item>
						</template>
					</dom-repeat>
				</paper-listbox>
			</div>
			<div class="list item selected section">
				<paper-item>
					<paper-item-body two-line>
						<div class="log date">{{selectionLog.date}}</div>
						<div secondary class="log msg">{{selectionLog.msg}}</div>
					</paper-item-body>
				</paper-item>
			</div>
	</template>
<script src="elements/monaco-go-langserver-log.js"></script>
</dom-module>
